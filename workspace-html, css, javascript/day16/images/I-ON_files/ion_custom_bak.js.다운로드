var site_id=$("input:hidden[name='site_id']").val();var modalObj={"EMAIL":{"modalId":"modal-email","modalUrl":"/common/modal/modal_email.html"},"PRIVACY":{"modalId":"modal-privacy","modalUrl":"/common/modal/modal_privacy.html"},"ASK":{"modalId":"modal-ask","modalUrl":"/common/modal/modal_ask.html"},"EDU":{"modalId":"modal-edu","modalUrl":"/common/modal/modal_edu.html"},"PRODUCT":{"modalId":"modal-product","modalUrl":"/common/modal/modal_product.html"},"COMPANY":{"modalId":"modal-company","modalUrl":"/common/modal/modal_company.html"},"VIDEO1":{"modalId":"modal-work01","modalUrl":"/common/modal/modal_video.html"},"VIDEO2":{"modalId":"modal-work03","modalUrl":"/common/modal/modal_video.html"}};$(document).ready(function(){if(site_id=='sk2141'||site_id=='sk21421'||site_id=='sk21422'||site_id=='sk21423'||site_id=='sk21424'||site_id=='sk21425'){ImgAppendToPress();ContImgCenter();}else if(site_id=='sk2161'){ContImgCenter();}else if(site_id=='sk21'){modalInit();}});function ImgAppendToPress(){var list=$('.press-list').find('li');for(var i=0;i<list.length;i++){var parent=$(list[i]).find('.pic');if(parent.find('img').attr('src')!='')continue;var img=$(list[i]).find('.ion-arttext').find('img')[0];if(img===undefined){img="<img src='https://www.i-on.net/sk21/assets/images/press_thumb(960x540).jpg' />";}
parent.empty();parent.append(img);}}
function ContImgCenter(){$('.view-cont').find('img').parents("div").css("text-align","center");$('.view-cont').find('img').parents("p").css("text-align","center");}
function ViewMoreClick(nowTplId,artAddress){sessionStorage.removeItem("tapTplId");sessionStorage.setItem("tapTplId",nowTplId);console.log("tapTplId session 저장 : "+nowTplId);window.location.href=artAddress;}
async function modalInit(){if(getCookie("main-modal-exp")!==undefined)return;await modalOpen(1,2000);}
function modalOpen(num,sec){return new Promise(function(resolve,reject){setTimeout(function(){$('.ionExampleModal').modal({backdrop:'static',keyboard:false,focus:false,show:true,});},sec);});}
$("#close-btn").on('click',function(){setCookie("main-modal-exp","true",1)})
function getCookie(cookie_name){var x,y;var val=document.cookie.split(';');for(var i=0;i<val.length;i++){x=val[i].substr(0,val[i].indexOf('='));y=val[i].substr(val[i].indexOf('=')+1);x=x.replace(/^\s+|\s+$/g,'');if(x==cookie_name){return unescape(y);}}}
function setCookie(cookie_name,value,days){var exdate=new Date();exdate.setDate(exdate.getDate()+days);var cookie_value=escape(value)+((days==null)?'':'; expires='+exdate.toUTCString());document.cookie=cookie_name+'='+cookie_value;}
$(".modalbtn").on('click',function(e){e.preventDefault();var modalName=$(this).data("modalName");var modalId=modalObj[modalName.toUpperCase()].modalId;modalLoad(modalName);delayModalShow(modalId);});function delayModalShow(modalId){setTimeout(function(){$('#'+modalId).modal('show');},500);}
function modalLoad(modalName){var root=$('#ion-modal');var modalInfo=modalObj[modalName.toUpperCase()];if(modalInfo===undefined){console.log('적절한 모달 팝업이 없습니다.');return;}
var modal=root.find('#'+modalInfo.modalId);if(modal.length==0){$.get(modalInfo.modalUrl,function(data){root.append(data);});}}